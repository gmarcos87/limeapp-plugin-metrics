'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
var getMetrics = exports.getMetrics = function getMetrics(api, sid, params) {
  return api.call(sid, 'get_metrics', params).map(function (result) {
    return Object.assign({}, result, { hostname: params.target });
  });
};

var getAllMetrics = exports.getAllMetrics = function getAllMetrics(api, sid, params) {
  return params.targets.map(function (x) {
    return getMetrics(api, sid, { target: x });
  });
};

var getGateway = exports.getGateway = function getGateway(api, sid) {
  return api.call(sid, 'get_gateway', {}).map(function (result) {
    return result;
  });
};

var getPath = exports.getPath = function getPath(api, sid, params) {
  return api.call(sid, 'get_path', params).map(function (data) {
    return Object.keys(data.path).map(function (key, index) {
      return data.path[key];
    }).reduce(function (x, y) {
      return x.concat(y);
    }, []);
  });
};

var getLastKnownPath = exports.getLastKnownPath = function getLastKnownPath(api, sid, params) {
  return api.call(sid, 'get_last_internet_path', params).map(function (data) {
    return Object.keys(data.path).map(function (key, index) {
      return data.path[key];
    }).reduce(function (x, y) {
      return x.concat(y);
    }, []);
  });
};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9tZXRyaWNzQXBpLmpzIl0sIm5hbWVzIjpbImdldE1ldHJpY3MiLCJhcGkiLCJzaWQiLCJwYXJhbXMiLCJjYWxsIiwibWFwIiwiT2JqZWN0IiwiYXNzaWduIiwicmVzdWx0IiwiaG9zdG5hbWUiLCJ0YXJnZXQiLCJnZXRBbGxNZXRyaWNzIiwidGFyZ2V0cyIsIngiLCJnZXRHYXRld2F5IiwiZ2V0UGF0aCIsImtleXMiLCJkYXRhIiwicGF0aCIsImtleSIsImluZGV4IiwicmVkdWNlIiwieSIsImNvbmNhdCIsImdldExhc3RLbm93blBhdGgiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQU8sSUFBTUEsa0NBQWEsU0FBYkEsVUFBYSxDQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBVUMsTUFBVixFQUFxQjtBQUM3QyxTQUFPRixJQUFJRyxJQUFKLENBQVNGLEdBQVQsRUFBYyxhQUFkLEVBQTZCQyxNQUE3QixFQUNKRSxHQURJLENBQ0Esa0JBQVU7QUFDYixXQUFPQyxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQkMsTUFBbEIsRUFBMEIsRUFBQ0MsVUFBVU4sT0FBT08sTUFBbEIsRUFBMUIsQ0FBUDtBQUNELEdBSEksQ0FBUDtBQUtELENBTk07O0FBUUEsSUFBTUMsd0NBQWdCLFNBQWhCQSxhQUFnQixDQUFDVixHQUFELEVBQU1DLEdBQU4sRUFBV0MsTUFBWCxFQUFzQjtBQUNqRCxTQUFPQSxPQUFPUyxPQUFQLENBQWVQLEdBQWYsQ0FBbUI7QUFBQSxXQUFLTCxXQUFXQyxHQUFYLEVBQWVDLEdBQWYsRUFBb0IsRUFBQ1EsUUFBT0csQ0FBUixFQUFwQixDQUFMO0FBQUEsR0FBbkIsQ0FBUDtBQUNELENBRk07O0FBSUEsSUFBTUMsa0NBQWEsU0FBYkEsVUFBYSxDQUFDYixHQUFELEVBQU1DLEdBQU4sRUFBYztBQUN0QyxTQUFPRCxJQUFJRyxJQUFKLENBQVNGLEdBQVQsRUFBYyxhQUFkLEVBQTZCLEVBQTdCLEVBQ0pHLEdBREksQ0FDQTtBQUFBLFdBQVVHLE1BQVY7QUFBQSxHQURBLENBQVA7QUFFRCxDQUhNOztBQUtBLElBQU1PLDRCQUFVLFNBQVZBLE9BQVUsQ0FBQ2QsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE1BQVgsRUFBc0I7QUFDM0MsU0FBT0YsSUFBSUcsSUFBSixDQUFTRixHQUFULEVBQWMsVUFBZCxFQUEwQkMsTUFBMUIsRUFDSkUsR0FESSxDQUNBO0FBQUEsV0FBUUMsT0FBT1UsSUFBUCxDQUFZQyxLQUFLQyxJQUFqQixFQUF1QmIsR0FBdkIsQ0FBMkIsVUFBQ2MsR0FBRCxFQUFNQyxLQUFOO0FBQUEsYUFBY0gsS0FBS0MsSUFBTCxDQUFVQyxHQUFWLENBQWQ7QUFBQSxLQUEzQixFQUF5REUsTUFBekQsQ0FBZ0UsVUFBQ1IsQ0FBRCxFQUFHUyxDQUFIO0FBQUEsYUFBU1QsRUFBRVUsTUFBRixDQUFTRCxDQUFULENBQVQ7QUFBQSxLQUFoRSxFQUFzRixFQUF0RixDQUFSO0FBQUEsR0FEQSxDQUFQO0FBRUQsQ0FITTs7QUFNQSxJQUFNRSw4Q0FBbUIsU0FBbkJBLGdCQUFtQixDQUFDdkIsR0FBRCxFQUFNQyxHQUFOLEVBQVdDLE1BQVgsRUFBc0I7QUFDcEQsU0FBT0YsSUFBSUcsSUFBSixDQUFTRixHQUFULEVBQWMsd0JBQWQsRUFBd0NDLE1BQXhDLEVBQ0pFLEdBREksQ0FDQTtBQUFBLFdBQVFDLE9BQU9VLElBQVAsQ0FBWUMsS0FBS0MsSUFBakIsRUFBdUJiLEdBQXZCLENBQTJCLFVBQUNjLEdBQUQsRUFBTUMsS0FBTjtBQUFBLGFBQWNILEtBQUtDLElBQUwsQ0FBVUMsR0FBVixDQUFkO0FBQUEsS0FBM0IsRUFBeURFLE1BQXpELENBQWdFLFVBQUNSLENBQUQsRUFBR1MsQ0FBSDtBQUFBLGFBQVNULEVBQUVVLE1BQUYsQ0FBU0QsQ0FBVCxDQUFUO0FBQUEsS0FBaEUsRUFBc0YsRUFBdEYsQ0FBUjtBQUFBLEdBREEsQ0FBUDtBQUVELENBSE0iLCJmaWxlIjoibWV0cmljc0FwaS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjb25zdCBnZXRNZXRyaWNzID0gKGFwaSwgc2lkLHBhcmFtcykgPT4ge1xuICByZXR1cm4gYXBpLmNhbGwoc2lkLCAnZ2V0X21ldHJpY3MnLCBwYXJhbXMpXG4gICAgLm1hcChyZXN1bHQgPT4ge1xuICAgICAgcmV0dXJuIE9iamVjdC5hc3NpZ24oe30sIHJlc3VsdCwge2hvc3RuYW1lOiBwYXJhbXMudGFyZ2V0fSk7XG4gICAgfVxuICApO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldEFsbE1ldHJpY3MgPSAoYXBpLCBzaWQsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gcGFyYW1zLnRhcmdldHMubWFwKHggPT4gZ2V0TWV0cmljcyhhcGksc2lkLCB7dGFyZ2V0Onh9KSk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0R2F0ZXdheSA9IChhcGksIHNpZCkgPT4ge1xuICByZXR1cm4gYXBpLmNhbGwoc2lkLCAnZ2V0X2dhdGV3YXknLCB7fSlcbiAgICAubWFwKHJlc3VsdCA9PiByZXN1bHQpO1xufTtcblxuZXhwb3J0IGNvbnN0IGdldFBhdGggPSAoYXBpLCBzaWQsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gYXBpLmNhbGwoc2lkLCAnZ2V0X3BhdGgnLCBwYXJhbXMpXG4gICAgLm1hcChkYXRhID0+IE9iamVjdC5rZXlzKGRhdGEucGF0aCkubWFwKChrZXksIGluZGV4KT0+ZGF0YS5wYXRoW2tleV0pLnJlZHVjZSgoeCx5KSA9PiB4LmNvbmNhdCh5KSwgW10pKTtcbn07XG5cblxuZXhwb3J0IGNvbnN0IGdldExhc3RLbm93blBhdGggPSAoYXBpLCBzaWQsIHBhcmFtcykgPT4ge1xuICByZXR1cm4gYXBpLmNhbGwoc2lkLCAnZ2V0X2xhc3RfaW50ZXJuZXRfcGF0aCcsIHBhcmFtcylcbiAgICAubWFwKGRhdGEgPT4gT2JqZWN0LmtleXMoZGF0YS5wYXRoKS5tYXAoKGtleSwgaW5kZXgpPT5kYXRhLnBhdGhba2V5XSkucmVkdWNlKCh4LHkpID0+IHguY29uY2F0KHkpLCBbXSkpO1xufTsiXX0=